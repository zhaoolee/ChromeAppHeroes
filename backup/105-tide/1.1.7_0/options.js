(function(t){function e(e){for(var n,o,r=e[0],c=e[1],u=e[2],l=0,m=[];l<r.length;l++)o=r[l],s[o]&&m.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={options:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=c;a.push([1,"chunk-vendors"]),i()})({"001e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAAH7+Yj7AAAAAXNSR0IArs4c6QAABTFJREFUWAm9mO+r32MYxw/DKOxs1FZIZw8V6jiW8liIcGwPKAdZCGebMqVpaaHIlJNRorDzRHIce8Ae+AOUWEl5wHKWVqzmfHcYDivzft3f6/qc63uf+/M53x/LVe/v9fO+7utz//rcn++qoSV6XOKlwuGzzDZt/KT4hchEuBE90a3GcXQ4XVnmeMdaDJ2TN5E+hvNFfgJNny2lJdwteN7kH0+/bWNyePHYOyItEPaxMOuBedBECERMfVPyw8IsFiMaTrkCjxk9S8zOOD4mTHsgjXjeHQgZeYIO83pprwjPdlileEb4/txpesrIQEKlIAIoJdVcmptY07wCjwtb6DI+ZQySq6I0jmgeQCNHFYXgNSJ7MPIyIvBv4Q7zLIQIMm8Q4JM+PCi7hSMCck4THoijFEAPkzhjILoT65FF2kSUTJLFGBQTIpcmKMa7zADFTr+U/jpOTxid2HNqGuGNCt5jDSYYbRbgSo9n8UX2o6yPmGeaJbbTlF3i1wtUCzVV1Y5Y+v3LRRKeEJj3CwT2OVh2asgWqbYzHtnPot2hBUlrG4U4F28x4ahPyvkyvG1GlsKCyevEp0yuYzzhsECbamV78DYJm0xhe1I1505pMVtYYlv1+w+SV5is2c8W6XdmNlePSnhJ8Cdxe2NCgnh/jAojQkuYE2aEY0KRShUynvuE1cUWS0YmbnZJbUt5wnGZe13k96vNaU/MsnFiQrpJxqw+JPxrDfeLV4V5wjEZfXYtrpY9J88p4QHhZ4siaSLPvNKyaFrk7yoTOy6NKRWyPAahR61xGi4S1q0172TehRrOgk6LWnw9pdZR02PmbT6U4T5hs08KAb0kID7SV6aM5BWS1CfIeWyIvFf4JjP+YfpwrNBjVqp0pwcGfqXJR0oJ8a2UNORKok/sIRJyckA3t1n120vSq63VQRJyDEHMUrfE+LJVobvaLF0t0mWEM+03M75m3NlJFwqcrfq0sNl8nPRLm1qyz+qvkp/EGch9wdQhVkdZnJStFnKJOAlu62hSr3BrqM5FPxxi+D4pa6KhQZ6Szxd1CislxEHCZ4TLUQp0QLaPCvaOMSz5cxsd3SRcJ9R1lrdxneX5tfC5wELoiuqeODYek/Kg0O2wxrZNMkW+J3RMQd6grsDzFMg53O1bJs9b0lmItwtrC04W3luCH9NVSKnAcXm7eZdWSboQvlDMmyFuo+TtAjsoUrXd3BgL5PqxVzhTU8kUfid8INS95OjreSGOKu04wNOXhRdI4KvCaqFf6uUszvvIZ43Pn6eEBT+4OAIGKS7vsFd9Vg3eD42ohZqGVglcT29E6ZOYvjeE2utsl3n5crpCuMziLxZf5MYwagZnTDWLmGEv0SBTWcoXbZ9J4SvOaZQpHnHN+Pfi7CYKYej/T/op6yzduVoybgiOiyT/aTqFAo4dH1HOs15pXg12dNFoXRbTYgTnMuO1mY466IjmHRe6SKZrMsccBc5kxnuk8yYp0aCFlnK6jXP4XleMz1Agu+9AcJwrmY0CryMKPZPEsUKf8ZpPTcf8oKYz1hhrzYnPwReEH9yQ8Sek35DZelF/V/AeYVjYJTBYTgxA2qCxQJzcXPLF/ItsLwvHhZxYWyyJq4Q1ubNPfUrtqhtOXiA5sU0Km1ACMaKfCjzZqWB3sZ/d7W3h3Gi4LZ9GcSoVGH18csRpdx+cIr8VDhuYpn6I6fxE6CjMEzUV6DFwdhivRD4sBn1ncxFgJg4Ki0IjdVtgKQn/Wo4KI8JagcUOh1rCCeOcs4eEvt7V/wE+OOT7ukb2zQAAAABJRU5ErkJggg=="},"0485":function(t,e,i){"use strict";var n=i("1db9"),s=i.n(n);s.a},1:function(t,e,i){t.exports=i("4c6b")},"195e":function(t,e,i){},"1a82":function(t,e,i){"use strict";var n=i("eb32"),s=i.n(n);s.a},"1db9":function(t,e,i){},"1e40":function(t,e,i){"use strict";var n=i("5761"),s=i.n(n);s.a},3886:function(t,e,i){},"3a1e":function(t,e,i){},"4c6b":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d"),i("9fa0"),i("3a1e"),i("cc6c");var n=i("2b0e"),s=i("8c4f"),a=i("3003"),o=i("ff66"),r=i("d3a4"),c=i("d847"),u=i.n(c),d=new n["default"],l={install:function(t){u()(t.prototype,{$bus:{get:function(){return d}}}),t.bus=d}},m=i("43f9"),f=i.n(m),h=(i("51de"),i("9062")),g=i.n(h),p=(i("e40d"),i("3493"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"title",rawName:"v-title"}],class:{floatTop:t.floatTopbar},attrs:{id:"app"}},[i("div",{staticClass:"topbar"},[i("div",{staticClass:"topbar-container"},[i("img",{attrs:{id:"logo",src:t.$i18n("logoPath")}}),t.userInfos?i("md-button",{staticClass:"logout-btn",on:{click:t.showLogoutDialog}},[t._v(t._s(t.$i18n("logoutBtn")))]):t._e()],1)]),i("div",{staticClass:"navs"},[i("div",{staticClass:"navs-width-limit"},[i("router-link",{staticClass:"route",attrs:{to:{name:"Infos"}}},[i("md-icon",[t._v("equalizer")]),i("span",[t._v(t._s(t.$i18n("navStatistics")))])],1),i("router-link",{staticClass:"route",attrs:{to:{name:"Settings"}}},[i("md-icon",[t._v("settings")]),i("span",[t._v(t._s(t.$i18n("navSettings")))])],1)],1)]),i("div",{staticClass:"func-container"},[i("div",{staticClass:"width-limit"},[i("router-view",{attrs:{"user-infos":t.userInfos}})],1)]),i("div",{staticClass:"footer"},[i("a",{staticClass:"link",attrs:{target:"_blank",href:t.$i18n("privacyPolicyLink")}},[t._v(t._s(t.$i18n("privacyPolicy")))]),i("span",{staticClass:"split"},[t._v("·")]),i("mailto",{staticClass:"link",attrs:{"user-infos":t.userInfos}},[t._v(t._s(t.$i18n("feedback")))])],1),i("md-snackbar",{staticClass:"error-snackbar",attrs:{"md-active":t.showError,"md-persistent":""},on:{"update:mdActive":function(e){t.showError=e},"update:md-active":function(e){t.showError=e}}},[i("span",[t._v(t._s(t.errorMsg))])]),i("md-dialog-confirm",{attrs:{"md-active":t.showLogout,"md-title":t.$i18n("logoutDialogTitle"),"md-content":t.$i18n("logoutDialogContent"),"md-confirm-text":t.$i18n("logoutDialogConfirmBtn"),"md-cancel-text":t.$i18n("logoutDialogCancelBtn")},on:{"update:mdActive":function(e){t.showLogout=e},"update:md-active":function(e){t.showLogout=e},"md-confirm":t.logout}})],1)}),v=[],b=(i("ac6a"),i("96cf"),i("3b8d")),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"mailto:talk@moreless.io?subject="+t.$i18n("subject")+"&&body="+t.body}},[t._t("default")],2)},_=[];i("28a5"),i("3b2b"),i("a481");function w(t,e){e=e||"yyyy-MM-dd hh:mm:ss",t=new Date(t);var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e}function C(t){var e,i,n,s=t,a=s.split("(").join(";"),o=a.split(")").join(";"),r=o.split("/").join(";"),c=r.split(";"),u=c[1],d="NA",l="",m=c[1].substring(0,7),f=c[2];return"X11"==u&&(d=c[2].substring(12,25)),"X11"==u?l=navigator.platform+" (Chrome Book)":(l=c[2],"WOW64"==l&&(l="Windows 32-bit on Windows 64-bit")),"Windows"===m&&" Win64"===f?(n=l,e=c[8].split(" ")[0],i=d):(n=l,e=c[7].split(" ")[0],i=d),{operating_system:n,chrome_os_version:i,chrome_browser_version:e}}var k={name:"Mailto",components:{},props:{subject:String,userInfos:Object},data:function(){var t=chrome.runtime.getManifest(),e=C(navigator.appVersion);return{appVersion:t.version,OSInfos:e}},computed:{body:function(){return"%0d%0a%0d%0a%0d%0a%0d%0a%0d%0a--------------------%0d%0a"+"%0d%0a App Version: ".concat(this.appVersion)+"%0d%0a Platform: Chrome Extension"+"%0d%0a Chrome Browser Version: ".concat(this.OSInfos.chrome_browser_version)+"%0d%0a Operating System: ".concat(this.OSInfos.operating_system)+(this.userInfos?"%0d%0a User: ".concat(this.userInfos.id):"")+"%0d%0a Date: ".concat(w(new Date))}}},D=k,I=i("2877"),A=Object(I["a"])(D,y,_,!1,null,"19425112",null),M=A.exports,x={name:"Options",components:{Mailto:M},data:function(){return{floatTopbar:!1,userInfos:null,bgPage:null,showLogout:!1,showError:!1,errorMsg:"",activedNav:""}},methods:{showLogoutDialog:function(){this.showLogout=!0},logout:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.bgPage.logout(),this.userInfos=null;case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goAnchor:function(t,e){this.activedNav=t,this.$el.querySelector(t).scrollIntoView({behavior:e?"auto":"smooth"})},debounce:function(t,e,i){var n,s,a,o,r,c=function c(){var u=new Date-o;u<e&&u>0?n=setTimeout(c,e-u):(n=null,i||(r=t.apply(a,s),n||(a=s=null)))};return function(){a=this,s=arguments,o=new Date;var u=i&&!n;return n||(n=setTimeout(c,e)),u&&(r=t.apply(a,s),a=s=null),r}},initActivedNav:function(){var t=window.pageYOffset,e=document.querySelectorAll(".anchor"),i="";e.forEach(function(e){t>=e.offsetTop&&(i="#".concat(e.id))}),this.activedNav=i},handleScroll:function(){window.scrollY<=0?this.floatTopbar&&(this.floatTopbar=!1):this.floatTopbar||(this.floatTopbar=!0)}},mounted:function(){var t=this;window.addEventListener("scroll",this.handleScroll);var e=chrome.extension.getBackgroundPage();this.bgPage=e,this.userInfos=e.userInfos,this.bgPage.initUserInfos(),chrome.runtime.onMessage.addListener(function(e){switch(e.type){case"logined":t.userInfos=e.userInfos;break;case"logout":t.userInfos=null;break;default:break}}),this.$bus.$on("error",function(e){t.errorMsg=e,t.showError=!0})},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),this.$bus.$off("error")}},$=x,F=(i("c22d"),i("1a82"),Object(I["a"])($,p,v,!1,null,null,null)),O=F.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings-page"},[i("settings-work-mode"),i("settings-immersive-mode")],1)},B=[],L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"work-mode-container",class:{off:!t.workMode}},[i("div",{staticClass:"setting-main-switch"},[i("div",{staticClass:"setting-infos"},[i("h2",{staticClass:"setting-name"},[t._v("\n          "+t._s(t.$i18n("settingsWorkModeTitle"))+"\n          "),i("md-button",{staticClass:"md-icon-button md-dense",on:{click:function(e){t.workModeTipsDisplay=!0}}},[i("md-icon",[t._v("help_outline")])],1)],1),i("p",{staticClass:"setting-desc"},[t._v(t._s(t.$i18n("settingsWorkModeDesc")))])]),i("md-switch",{model:{value:t.workMode,callback:function(e){t.workMode=e},expression:"workMode"}})],1),i("h3",{staticClass:"block-name"},[t._v(t._s(t.$i18n("sectionWorkModeTitle")))]),i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionWorkModeSwitch_focusDuration")))]),i("div",{staticClass:"select-container"},[i("md-field",[t.focusDurationOptions.defaultOptions?[i("md-select",{model:{value:t.focusDuration,callback:function(e){t.focusDuration=e},expression:"focusDuration"}},[i("md-optgroup",{attrs:{label:t.$i18n("customDuration")}},[i("md-option",{attrs:{value:t.focusDurationOptions.currentOption.value}},[t._v(t._s(t.focusDurationOptions.currentOption.text)+" "+t._s(t.$i18n("unitMin")))])],1),i("md-optgroup",{attrs:{label:t.$i18n("defaultDuration")}},t._l(t.focusDurationOptions.defaultOptions,function(e){return i("md-option",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.text)+" "+t._s(t.$i18n("unitMin")))])}),1)],1)]:[i("md-select",{model:{value:t.focusDuration,callback:function(e){t.focusDuration=e},expression:"focusDuration"}},t._l(t.focusDurationOptions,function(e){return i("md-option",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.text)+" "+t._s(t.$i18n("unitMin")))])}),1)]],2)],1)]),i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionWorkModeSwitch_breakDuration")))]),i("div",{staticClass:"select-container"},[i("md-field",[i("md-select",{model:{value:t.breakDuration,callback:function(e){t.breakDuration=e},expression:"breakDuration"}},t._l(t.breakDurationOptions,function(e){return i("md-option",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.text)+" "+t._s(t.$i18n("unitMin")))])}),1)],1)],1)]),i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionWorkModeSwitch_longBreakDuration")))]),i("div",{staticClass:"select-container"},[i("md-field",[i("md-select",{model:{value:t.longBreakDuration,callback:function(e){t.longBreakDuration=e},expression:"longBreakDuration"}},t._l(t.longBreakDurationOptions,function(e){return i("md-option",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.text)+" "+t._s(t.$i18n("unitMin")))])}),1)],1)],1)]),i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionWorkModeSwitch_longBreakFrequency")))]),i("div",{staticClass:"select-container"},[i("md-field",[i("md-select",{model:{value:t.longBreakFrequency,callback:function(e){t.longBreakFrequency=e},expression:"longBreakFrequency"}},t._l(t.longBreakFrequencyOptions,function(e){return i("md-option",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.text?e.text+" "+t.$i18n("unitTimes"):t.$i18n("never")))])}),1)],1)],1)]),i("h3",{staticClass:"block-name"},[t._v(t._s(t.$i18n("sectionAtomaticTitle")))]),i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionAtomatic_autoBreak")))]),i("md-switch",{model:{value:t.autoBreak,callback:function(e){t.autoBreak=e},expression:"autoBreak"}})],1),i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionAtomatic_autoFocus")))]),i("md-switch",{model:{value:t.autoFocus,callback:function(e){t.autoFocus=e},expression:"autoFocus"}})],1),i("div",{staticClass:"sub-setting-option",style:{height:(t.autoFocus?64:0)+"px"}},[i("div",{staticClass:"setting-option"},[i("label",[t._v(t._s(t.$i18n("sectionAtomatic_autoFocusCycle")))]),i("div",{staticClass:"select-container"},[i("md-field",[i("md-select",{model:{value:t.autoFocusCycle,callback:function(e){t.autoFocusCycle=e},expression:"autoFocusCycle"}},t._l(t.autoFocusCycleOptions,function(e){return i("md-option",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.text?e.text+" "+t.$i18n("unitTimes"):t.$i18n("unlimited")))])}),1)],1)],1)])])]),i("md-dialog-alert",{attrs:{"md-active":t.workModeTipsDisplay,"md-title":t.$i18n("tipsWorkModeTitle"),"md-content":t.$i18n("tipsWorkModeContent"),"md-confirm-text":t.$i18n("tipsWorkModeButton")},on:{"update:mdActive":function(e){t.workModeTipsDisplay=e},"update:md-active":function(e){t.workModeTipsDisplay=e}}})],1)},S=[],P=(i("6762"),i("e814")),T=i.n(P),j=i("4be7"),E=[5,8,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,110,120],R=[1,2,3,5,8,10,15,20,25,30,35,40,45],q=[5,8,10,15,20,25,30,35,40,45,50,55,60],H=[0,2,3,4,5,6],U=[0,2,3,4,5,6,7,8,9,10],Y={name:"SettingsWorkMode",components:{},data:function(){var t=R.map(function(t){return{text:t,value:6e4*t}}),e=q.map(function(t){return{text:t,value:6e4*t}}),i=H.map(function(t){return{text:t,value:t}}),n=U.map(function(t){return{text:t,value:t}}),s=chrome.extension.getBackgroundPage();return{breakDurationOptions:t,longBreakDurationOptions:e,longBreakFrequencyOptions:i,autoFocusCycleOptions:n,workModeTipsDisplay:!1,bgPage:s,workMode:s.settings.workMode,focusDuration:s.settings.focusDuration,breakDuration:s.settings.breakDuration,longBreakDuration:s.settings.longBreakDuration,longBreakFrequency:s.settings.longBreakFrequency,autoFocus:s.settings.autoFocus,autoBreak:s.settings.autoBreak,autoFocusCycle:s.settings.autoFocusCycle}},computed:{focusDurationOptions:function(){var t=T()(this.focusDuration/6e4);return E.includes(t)?E.map(function(t){return{text:t,value:6e4*t}}):{defaultOptions:E.map(function(t){return{text:t,value:6e4*t}}),currentOption:{text:t,value:6e4*t}}}},watch:{workMode:function(t){this.bgPage.settings.workMode!==t&&(this.bgPage.settings.workMode=t)},focusDuration:function(t){this.bgPage.settings.focusDuration!==t&&(this.bgPage.settings.focusDuration=t)},breakDuration:function(t){this.bgPage.settings.breakDuration!==t&&(this.bgPage.settings.breakDuration=t)},longBreakDuration:function(t){this.bgPage.settings.longBreakDuration!==t&&(this.bgPage.settings.longBreakDuration=t)},longBreakFrequency:function(t){this.bgPage.settings.longBreakFrequency!==t&&(this.bgPage.settings.longBreakFrequency=t)},autoFocus:function(t){this.bgPage.settings.autoFocus!==t&&(this.bgPage.settings.autoFocus=t)},autoBreak:function(t){this.bgPage.settings.autoBreak!==t&&(this.bgPage.settings.autoBreak=t)},autoFocusCycle:function(t){this.bgPage.settings.autoFocusCycle!==t&&(this.bgPage.settings.autoFocusCycle=t)}},methods:{settingItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new j["Promise"](function(t){chrome.storage.sync.get(e,function(n){var s=n[e];t(void 0===s?i:s)})}));case 1:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;chrome.storage.onChanged.addListener(function(e){if(e.settings){var i=e.settings.newValue;t.workMode=i.workMode,t.focusDuration=i.focusDuration,t.breakDuration=i.breakDuration,t.longBreakDuration=i.longBreakDuration,t.longBreakFrequency=i.longBreakFrequency,t.autoFocus=i.autoFocus,t.autoBreak=i.autoBreak,t.autoFocusCycle=i.autoFocusCycle}})},beforeDestroy:function(){}},N=Y,V=(i("b82a"),Object(I["a"])(N,L,S,!1,null,"f4d0236a",null)),J=V.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"immersive-mode-container",class:{off:!t.immersiveMode}},[i("div",{staticClass:"setting-main-switch"},[i("div",{staticClass:"setting-infos"},[i("h2",{staticClass:"setting-name"},[t._v("\n          "+t._s(t.$i18n("settingsImmersiveModeTitle"))+"\n          "),i("md-button",{staticClass:"md-icon-button md-dense",on:{click:function(e){t.immersiveModeTipsDisplay=!0}}},[i("md-icon",[t._v("help_outline")])],1)],1),i("p",{staticClass:"setting-desc"},[t._v(t._s(t.$i18n("settingsImmersiveModeDesc")))])]),i("md-switch",{model:{value:t.immersiveMode,callback:function(e){t.immersiveMode=e},expression:"immersiveMode"}})],1),i("h3",{staticClass:"block-name"},[t._v(t._s(t.$i18n("sectionWhiteListTitle")))]),i("md-content",{staticClass:"domains md-scrollbar"},t._l(t.whiteList,function(e,n){return i("div",{key:e,staticClass:"white-list-item"},[i("img",{staticClass:"domain-icon",attrs:{src:t.getFavicon(e)},on:{error:t.fixIcon}}),i("div",{staticClass:"domain"},[t._v(t._s(e))]),i("md-menu",[i("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[i("md-icon",[t._v("more_vert")])],1),i("md-menu-content",[i("md-menu-item",{on:{click:function(e){return t.editWhiteItem(n)}}},[i("span",[t._v(t._s(t.$i18n("editWhiteListItem")))])]),i("md-menu-item",{on:{click:function(e){return t.removeWhiteItem(n)}}},[i("span",[t._v(t._s(t.$i18n("delWhiteListItem")))])])],1)],1)],1)}),0),i("a",{staticClass:"add-site-btn",on:{click:t.showAddWhiteListDialog}},[t._v(t._s(t.$i18n("sectionWhiteListAddBtn")))])],1),i("md-dialog-alert",{attrs:{"md-active":t.immersiveModeTipsDisplay,"md-title":t.$i18n("tipsImmersiveModeTitle"),"md-content":t.$i18n("tipsImmersiveModeContent"),"md-confirm-text":t.$i18n("tipsImmersiveModeButton")},on:{"update:mdActive":function(e){t.immersiveModeTipsDisplay=e},"update:md-active":function(e){t.immersiveModeTipsDisplay=e}}}),i("md-dialog",{attrs:{"md-active":t.dialog.addWhiteItem,"md-fullscreen":!1},on:{"update:mdActive":function(e){return t.$set(t.dialog,"addWhiteItem",e)},"update:md-active":function(e){return t.$set(t.dialog,"addWhiteItem",e)},"md-opened":t.setAddDomainInputFocus}},[i("md-dialog-title",[t._v(t._s(t.$i18n("addWhiteListItemDialogTitle")))]),i("md-dialog-content",[i("md-field",{class:{"md-invalid":t.invalidUrl}},[i("md-input",{ref:"addDomainInput",attrs:{placeholder:t.$i18n("whiteListItemInputPlaceholder")},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmWhiteItem(e)}},model:{value:t.whiteDomain,callback:function(e){t.whiteDomain=e},expression:"whiteDomain"}}),i("span",{staticClass:"md-error"},[t._v(t._s(t.$i18n("invalidDomain")))])],1)],1),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary",on:{click:t.cancelAddWhiteItem}},[t._v(t._s(t.$i18n("whiteListItemDialogCancelBtn")))]),i("md-button",{staticClass:"md-primary",attrs:{disabled:!t.whiteDomain},on:{click:t.confirmWhiteItem}},[t._v(t._s(t.$i18n("addWhiteListItemDialogConfirmBtn")))])],1)],1),i("md-dialog",{attrs:{"md-active":t.dialog.editWhiteItem,"md-fullscreen":!1},on:{"update:mdActive":function(e){return t.$set(t.dialog,"editWhiteItem",e)},"update:md-active":function(e){return t.$set(t.dialog,"editWhiteItem",e)},"md-opened":t.setEditDomainInputFocus}},[i("md-dialog-title",[t._v(t._s(t.$i18n("editWhiteListItemDialogTitle")))]),i("md-dialog-content",[i("md-field",{class:{"md-invalid":t.invalidUrl}},[i("md-input",{ref:"editDomainInput",attrs:{placeholder:t.$i18n("whiteListItemInputPlaceholder")},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmWhiteItem(e)}},model:{value:t.whiteDomain,callback:function(e){t.whiteDomain=e},expression:"whiteDomain"}}),i("span",{staticClass:"md-error"},[t._v(t._s(t.$i18n("invalidDomain")))])],1)],1),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary",on:{click:t.cancelEditWhiteItem}},[t._v(t._s(t.$i18n("whiteListItemDialogCancelBtn")))]),i("md-button",{staticClass:"md-primary",attrs:{disabled:!t.whiteDomain},on:{click:t.confirmWhiteItem}},[t._v(t._s(t.$i18n("editWhiteListItemDialogConfirmBtn")))])],1)],1),i("md-dialog",{attrs:{"md-active":t.dialog.removeWhiteItem,"md-fullscreen":!1},on:{"update:mdActive":function(e){return t.$set(t.dialog,"removeWhiteItem",e)},"update:md-active":function(e){return t.$set(t.dialog,"removeWhiteItem",e)}}},[i("md-dialog-title",[t._v(t._s(t.$i18n("delWhiteListItemDialogTitle")))]),-1!==t.currentWhiteListItem?i("md-dialog-content",[i("img",{staticClass:"remove-dialog-icon",attrs:{src:t.getFavicon(t.whiteList[t.currentWhiteListItem])},on:{error:t.fixIcon}}),i("span",{staticClass:"remove-dialog-content"},[t._v(t._s(t.whiteList[t.currentWhiteListItem]))])]):t._e(),i("md-dialog-actions",[i("md-button",{on:{click:t.cancelRemove}},[t._v(t._s(t.$i18n("whiteListItemDialogCancelBtn")))]),i("md-button",{staticClass:"md-primary",on:{click:t.confirmRemove}},[t._v(t._s(t.$i18n("delWhiteListItemDialogConfirmBtn")))])],1)],1)],1)},K=[],Z=i("75fc"),Q=(i("2fdb"),i("f559"),i("795b")),X=i.n(Q),G=i("001e"),tt=i.n(G),et={name:"SettingsImmersiveMode",components:{},data:function(){var t=chrome.extension.getBackgroundPage();return{whiteDomain:"",blackDomain:"",immersiveModeTipsDisplay:!1,invalidUrl:!1,currentWhiteListItem:-1,dialog:{addWhiteItem:!1,editWhiteItem:!1,removeWhiteItem:!1},bgPage:t,immersiveMode:t.settings.immersiveMode,whiteList:t.settings.whiteList,blackList:t.settings.blackList}},watch:{whiteDomain:function(){this.invalidUrl=!1},immersiveMode:function(t){this.bgPage.settings.immersiveMode!==t&&(this.bgPage.settings.immersiveMode=t)},whiteList:function(t){this.bgPage.settings.whiteList!==t&&(this.bgPage.settings.whiteList=t)},blackList:function(t){this.bgPage.settings.blackList!==t&&(this.bgPage.settings.blackList=t)}},created:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{settingItem:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new X.a(function(t){chrome.storage.sync.get(e,function(n){var s=n[e];t(void 0===s?i:s)})}));case 1:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}(),getFavicon:function(t){var e;return e=t.startsWith("http://")?t:t.startsWith("https://")?t:"http://".concat(t),"".concat(e,"/favicon.ico")},fixIcon:function(t){var e=t.target;e.setAttribute("src",null),e.setAttribute("src",tt.a)},showAddWhiteListDialog:function(){this.currentWhiteListItem=-1,this.dialog.addWhiteItem=!0},setAddDomainInputFocus:function(){var t=this;window.setTimeout(function(){t.$refs.addDomainInput.$el.focus()},50)},setEditDomainInputFocus:function(){var t=this;window.setTimeout(function(){t.$refs.editDomainInput.$el.focus()},50)},confirmWhiteItem:function(){var t=/^(?:(?:https?|ftp):\/\/)?(localhost|(?=(\b|\D))(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))\.){3}((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))(?=(\b|\D))|\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i;if(t.test(this.whiteDomain)){var e=this.whiteDomain;if(e=e.replace(/^\w*:\/\//g,""),e=e.split("/")[0],!this.whiteList.includes(e))if(-1===this.currentWhiteListItem)this.whiteList.unshift(e);else{var i=Object(Z["a"])(this.whiteList);i[this.currentWhiteListItem]=e,this.whiteList=i}this.dialog.addWhiteItem=!1,this.dialog.editWhiteItem=!1,this.invalidUrl=!1,this.whiteDomain=""}else this.invalidUrl=!0},cancelAddWhiteItem:function(){this.dialog.addWhiteItem=!1,this.whiteDomain="",this.invalidUrl=!1},editWhiteItem:function(t){this.currentWhiteListItem=t,this.whiteDomain=this.whiteList[t],this.dialog.editWhiteItem=!0,this.invalidUrl=!1},cancelEditWhiteItem:function(){this.dialog.editWhiteItem=!1,this.whiteDomain="",this.invalidUrl=!1},removeWhiteItem:function(t){this.currentWhiteListItem=t,this.dialog.removeWhiteItem=!0},confirmRemove:function(){this.whiteList.splice(this.currentWhiteListItem,1),this.dialog.removeWhiteItem=!1,this.currentWhiteListItem=-1},cancelRemove:function(){this.dialog.removeWhiteItem=!1,this.currentWhiteListItem=-1}},mounted:function(){var t=this;chrome.storage.onChanged.addListener(function(e){if(e.settings){var i=e.settings.newValue;t.immersiveMode=i.immersiveMode,t.whiteList=i.whiteList,t.blackList=i.blackList}})}},it=et,nt=(i("1e40"),Object(I["a"])(it,z,K,!1,null,"701b3220",null)),st=nt.exports,at={name:"Settings",components:{SettingsWorkMode:J,SettingsImmersiveMode:st},created:function(){}},ot=at,rt=Object(I["a"])(ot,W,B,!1,null,null,null),ct=rt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"infos"}},[i("userinfos",{attrs:{"user-infos":t.userInfos}}),i("records",{attrs:{"user-infos":t.userInfos}}),i("page-histories",{attrs:{"user-infos":t.userInfos}})],1)},dt=[],lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"user-wrapper"},[t.userInfos?[t.userInfos.avatar?i("md-avatar",[i("img",{attrs:{src:t.userInfos.avatar,alt:"Avatar"}})]):i("md-avatar",{staticClass:"md-avatar-icon"},[i("md-icon",[t._v("person")])],1),i("div",{staticClass:"user-infos"},[i("h3",[t._v(t._s(t.userInfos.nickname))]),i("p",[t._v(t._s(t.$i18n("loginedDesc",""+t.usedDuration)))])])]:[i("md-avatar",{staticClass:"md-avatar-icon unlogined"},[i("md-icon",[t._v("person")])],1),i("div",{staticClass:"user-infos"},[i("h3",[t._v(t._s(t.$i18n("greeting")))]),i("p",[t._v(t._s(t.$i18n("greetingDesc")))])]),i("md-button",{staticClass:"md-primary md-raised",on:{click:t.requestLogin}},[t._v(t._s(t.$i18n("loginBtn")))])]],2)])},mt=[],ft={name:"UserInfos",props:{userInfos:{type:Object}},computed:{usedDuration:function(){if(!this.userInfos)return 0;var t=new Date(1e3*this.userInfos.created_at);t.setSeconds(0),t.setMinutes(0),t.setHours(0);var e=T()((new Date-t)/864e5)+1;return e}},methods:{requestLogin:function(){this.bgPage.requestLogin()}},created:function(){var t=this,e=chrome.extension.getBackgroundPage();this.bgPage=e,this.$bus.$on("showLoginModal",function(){t.requestLogin()})},beforeDestroy:function(){this.$bus.$off("showLoginModal")}},ht=ft,gt=(i("a984"),Object(I["a"])(ht,lt,mt,!1,null,"54f8297e",null)),pt=gt.exports,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.records?[i("div",{staticClass:"records-container"},[i("div",{staticClass:"records-item"},[i("div",{staticClass:"record"},[i("div",{staticClass:"record-data"},[t._v(t._s(t.records.today_times))]),i("span",{staticClass:"record-data-name"},[t._v(t._s(t.$i18n("todayFocusTimes")))])]),i("div",{staticClass:"record"},[i("div",{staticClass:"record-data"},[t._v("\n            "+t._s(parseInt(t.records.today_duration/60))+"\n            "),i("span",{staticClass:"record-unit"},[t._v(t._s(t.$i18n("min")))])]),i("span",{staticClass:"record-data-name"},[t._v(t._s(t.$i18n("todayFocusDurations")))])])]),i("div",{staticClass:"records-item"},[i("div",{staticClass:"record"},[i("div",{staticClass:"record-data"},[t._v(t._s(t.records.this_week_times))]),i("span",{staticClass:"record-data-name"},[t._v(t._s(t.$i18n("weeklyFocusTimes")))])]),i("div",{staticClass:"record"},[i("div",{staticClass:"record-data"},[t._v("\n            "+t._s(parseInt(t.records.this_week_duration/60))+"\n            "),i("span",{staticClass:"record-unit"},[t._v(t._s(t.$i18n("min")))])]),i("span",{staticClass:"record-data-name"},[t._v(t._s(t.$i18n("weeklyFocusDurations")))])])]),i("div",{staticClass:"records-item"},[i("div",{staticClass:"record"},[i("div",{staticClass:"record-data"},[t._v(t._s(t.records.total_times))]),i("span",{staticClass:"record-data-name"},[t._v(t._s(t.$i18n("totalFocusTimes")))])]),i("div",{staticClass:"record"},[i("div",{staticClass:"record-data"},[t._v("\n            "+t._s(parseInt(t.records.total_duration/60))+"\n            "),i("span",{staticClass:"record-unit"},[t._v(t._s(t.$i18n("min")))])]),i("span",{staticClass:"record-data-name"},[t._v(t._s(t.$i18n("totalFocusDurations")))])])])])]:t._e()],2)},bt=[];var yt={name:"Records",components:{},props:{userInfos:{type:Object}},watch:{userInfos:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:setTimeout(function(){e.initRecords()},300);case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{records:null}},methods:{initRecords:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=chrome.extension.getBackgroundPage(),t.next=3,e.records.fetchRecords();case 3:this.records=t.sent;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.initRecords()}},_t=yt,wt=(i("cad8"),Object(I["a"])(_t,vt,bt,!1,null,"3f8cd94e",null)),Ct=wt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",{staticClass:"histories-container"},[n("div",{staticClass:"setting-main-switch"},[n("div",{staticClass:"setting-infos"},[n("h2",{staticClass:"setting-name"},[t._v(t._s(t.$i18n("pageHistoriesTitle")))]),n("p",{staticClass:"setting-desc"},[t._v(t._s(t.$i18n("pageHistoriesDesc")))])])]),n("div",{staticClass:"histories"},[t.histories.length?[t.histories[0].date!==t.today?n("div",{staticClass:"oneday"},[n("h3",{staticClass:"block-name"},[t._v(t._s(t.$i18n("pageHistoriesToday")))]),n("h3",{staticClass:"block-desc"},[t._v(t._s(t.$i18n("pageHistoriesEmpty")))])]):t._e(),t._l(t.histories,function(e){return n("div",{key:e.date,staticClass:"oneday"},[n("h3",{staticClass:"block-name"},[t._v(t._s(t.formatDate(e.date)))]),n("h3",{staticClass:"block-desc"},[t._v(t._s(t.$i18n("pageHistoriesDuration",t.formatDuration(e.totalDuration))))]),n("div",{staticClass:"records"},t._l(e.records,function(i){return n("div",{key:e.date+"-"+i.domain,staticClass:"record"},[n("img",{staticClass:"record-icon",attrs:{src:t.getFavicon(i.domain)},on:{error:t.fixIcon}}),n("div",{staticClass:"record-infos-container"},[n("div",{staticClass:"record-infos"},[n("a",{staticClass:"record-infos-domain",attrs:{target:"_blank",href:"http://"+i.domain}},[t._v(t._s(i.domain))]),n("div",{staticClass:"percentage-bar-denominator"},[n("div",{staticClass:"percentage-bar-numerator",style:{width:Math.ceil((i.duration||1)/t.maximum*100)+"%"}})])]),n("div",{staticClass:"record-duration"},[t._v(t._s(t.formatDuration(i.duration||1)))])])])}),0)])}),t.loading?n("div",{staticClass:"more"},[t._v(t._s(t.$i18n("pageHistoriesLoading")))]):t.finish?n("div",{staticClass:"more"},[t._v(t._s(t.$i18n("pageHistoriesNoMore")))]):n("div",{staticClass:"more load-more",on:{click:t.loadMore}},[t._v("\n            "+t._s(t.$i18n("pageHistoriesMore"))+"\n            "),n("img",{attrs:{src:i("69f5")}})])]:[n("div",{staticClass:"oneday"},[n("h3",{staticClass:"block-name"},[t._v(t._s(t.$i18n("pageHistoriesToday")))]),n("h3",{staticClass:"block-desc"},[t._v(t._s(t.$i18n("pageHistoriesEmpty")))])])]],2)])]],2)},Dt=[],It=i("768b"),At=(i("55dd"),i("a4bb")),Mt=i.n(At);function xt(){var t=new Date,e=t.getDate(),i=t.getMonth(),n=t.getFullYear(),s=new Date(n,i,e),a=new Date(n,i,e,23,59,59);return[+s,+a]}function $t(t,e){e=e||"yyyy-MM-dd hh:mm:ss",t=new Date(t);var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e}function Ft(t){var e=0,i=0,n=Mt()(t),s=n.map(function(n){var s=t[n];return e+=s,s>i&&(i=s),{domain:n,duration:s}});return s.sort(function(t,e){return e.duration-t.duration}),{totalDuration:e,maximumDuration:i,reportDatas:s}}var Ot={name:"PageHistories",components:{},props:{userInfos:{type:Object}},watch:{userInfos:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.reset(),this.initHistories();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},data:function(){var t=new Date;return{nextDate:T()($t(t,"yyyyMMdd")),today:T()($t(t,"yyyyMMdd")),yesterday:T()($t(t.setDate(t.getDate()-1),"yyyyMMdd")),maximum:0,histories:[],finish:!1,loading:!0}},methods:{getFavicon:function(t){var e;return e=t.startsWith("http://")?t:t.startsWith("https://")?t:"http://".concat(t),"".concat(e,"/favicon.ico")},fixIcon:function(t){var e=t.target;e.setAttribute("src",null),e.setAttribute("src",tt.a)},parseDate:function(t){var e=/(\d{4})(\d{2})(\d{2})/.exec(t),i=Object(It["a"])(e,4),n=i[1],s=i[2],a=i[3];return"".concat(n,"-").concat(s,"-").concat(a)},formatDuration:function(t){var e=T()(t/60),i=t%60,n=e%60,s=T()(e/60);return s?"".concat(s," ").concat(this.$i18n("simplifiedHr")," ").concat(n," ").concat(this.$i18n("simplifiedMin")):n?"".concat(n," ").concat(this.$i18n("simplifiedMin")):"".concat(i," ").concat(this.$i18n("simplifiedSec"))},formatDate:function(t){return t===this.today?this.$i18n("pageHistoriesToday"):t===this.yesterday?this.$i18n("pageHistoriesYesterday"):this.parseDate(t)},loadMore:function(){this.userInfos?this.fetchHistories():this.$bus.$emit("showLoginModal")},fetchHistories:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,i,n,s,a,o,r,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.$request({url:"/v1/chrome_ext/page_histories/day_report",params:{date:this.nextDate}});case 4:e=t.sent,i=e.date,n=e.records,s=Ft(n),a=s.totalDuration,o=s.maximumDuration,r=s.reportDatas,o>this.maximum&&(this.maximum=o),this.nextDate===this.today&&(this.histories=[]),this.histories.push({date:i,totalDuration:a,records:r}),c=new Date(this.parseDate(i)),c=c.setDate(c.getDate()-1),this.nextDate=T()($t(c,"yyyyMMdd")),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),"cannot find this date's report"===t.t0.msg&&(this.finish=!0);case 19:this.loading=!1;case 20:case"end":return t.stop()}},t,this,[[1,16]])}));function e(){return t.apply(this,arguments)}return e}(),getLocaoHistories:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,i,n,s,a,o,r,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=chrome.extension.getBackgroundPage(),t.next=3,e.pageHistories.getLocalLogs();case 3:i=t.sent,n={},s=xt(),i.forEach(function(t){var e=t.started_at+t.duration,i=0;if(t.started_at>=s[0])e=e<=s[1]?e:s[1],i=e-t.started_at;else{if(!(e>=s[0]&&e<=s[1]))return;i=e-s[0]}i=T()(i/1e3);var a=t.url.split("/")[2];n[a]?n[a]+=i:n[a]=i}),a=Ft(n),o=a.totalDuration,r=a.maximumDuration,c=a.reportDatas,r>this.maximum&&(this.maximum=r),this.loading=!1,this.histories=[{date:this.today,totalDuration:o,records:c}];case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),initHistories:function(){var t=new Date;this.today=T()($t(t,"yyyyMMdd")),this.yesterday=T()($t(t.setDate(t.getDate()-1),"yyyyMMdd")),this.userInfos?this.fetchHistories():this.getLocaoHistories()},reset:function(){var t=new Date;this.nextDate=T()($t(t,"yyyyMMdd")),this.today=T()($t(t,"yyyyMMdd")),this.yesterday=T()($t(t.setDate(t.getDate()-1),"yyyyMMdd")),this.maximum=0,this.histories=[],this.finish=!1,this.loading=!0}},created:function(){this.initHistories()}},Wt=Ot,Bt=(i("d60a"),Object(I["a"])(Wt,kt,Dt,!1,null,"1d59c3be",null)),Lt=Bt.exports,St={name:"Infos",components:{Userinfos:pt,Records:Ct,PageHistories:Lt},props:{userInfos:{type:Object}}},Pt=St,Tt=(i("0485"),Object(I["a"])(Pt,ut,dt,!1,null,"4245e65a",null)),jt=Tt.exports;n["default"].config.productionTip=!1,n["default"].use(f.a),n["default"].use(s["a"]),n["default"].use(r["a"]),n["default"].use(a["a"]),n["default"].use(o["a"]),n["default"].use(l),n["default"].use(g.a,{color:"#FF6757"}),n["default"].directive("title",{inserted:function(){document.title=chrome.i18n.getMessage("optionsPageTitle")}});var Et=[{path:"/",redirect:{name:"Infos"}},{name:"Settings",path:"/settings",component:ct,meta:{title:chrome.i18n.getMessage("optionsPageTitleSettings")}},{name:"Infos",path:"/infos",component:jt,meta:{title:chrome.i18n.getMessage("optionsPageTitleInfos")}}],Rt=new s["a"]({routes:Et});Rt.beforeEach(function(t,e,i){t.meta.title&&(document.title=t.meta.title,setTimeout(function(){document.title=t.meta.title},0)),i()}),new n["default"]({router:Rt,render:function(t){return t(O)}}).$mount("#app"),window._gaq=window._gaq||[],window._gaq.push(["_setAccount","UA-75103409-6"]),window._gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://ssl.google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()},5761:function(t,e,i){},"69f5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAICAYAAAGHcU8BAAAAAXNSR0IArs4c6QAAAHpJREFUKBWNj8sNgCAQRKFCDtiP2o8cqFCdDY+sBokkZDY7P4il1O0MYY1HqTe2oy2LJ4NCbFdoSRACcMkpMhv6bIhxR2Nv+24R9OESisw5bb3DiyC9wWaJ9A5PWMLXL7zwPdPSnyDBnyCMBD4CWI6C3ka0U1SQ7kx0AUjZSpX7AgEjAAAAAElFTkSuQmCC"},"82cc":function(t,e,i){},"9fa0":function(t,e,i){"use strict";(function(t,e){var n=i("85f2"),s=i.n(n),a=(i("3b2b"),i("6b54"),i("34ef"),i("a481"),i("7618"));(function(t,n){"object"===("undefined"===typeof exports?"undefined":Object(a["a"])(exports))&&"undefined"!==typeof e?e.exports=n(t):"function"===typeof define&&i("3c35")?define(n):t.moment=n(t)})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:void 0,function(t){var n,a=t.Base64,o="2.4.0";if(e.exports)try{n=i("b639").Buffer}catch(M){}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(t){for(var e={},i=0,n=t.length;i<n;i++)e[t.charAt(i)]=i;return e}(r),u=String.fromCharCode,d=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e)}e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,m=function(t){return t.replace(l,d)},f=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),n=[r.charAt(i>>>18),r.charAt(i>>>12&63),e>=2?"=":r.charAt(i>>>6&63),e>=1?"=":r.charAt(63&i)];return n.join("")},h=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,f)},g=n?n.from&&n.from!==Uint8Array.from?function(t){return(t.constructor===n.constructor?t:n.from(t)).toString("base64")}:function(t){return(t.constructor===n.constructor?t:new n(t)).toString("base64")}:function(t){return h(m(t))},p=function(t,e){return e?g(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):g(String(t))},v=function(t){return p(t,!0)},b=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),y=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=e-65536;return u(55296+(i>>>10))+u(56320+(1023&i));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},_=function(t){return t.replace(b,y)},w=function(t){var e=t.length,i=e%4,n=(e>0?c[t.charAt(0)]<<18:0)|(e>1?c[t.charAt(1)]<<12:0)|(e>2?c[t.charAt(2)]<<6:0)|(e>3?c[t.charAt(3)]:0),s=[u(n>>>16),u(n>>>8&255),u(255&n)];return s.length-=[0,0,2,1][i],s.join("")},C=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,w)},k=n?n.from&&n.from!==Uint8Array.from?function(t){return(t.constructor===n.constructor?t:n.from(t,"base64")).toString()}:function(t){return(t.constructor===n.constructor?t:new n(t,"base64")).toString()}:function(t){return _(C(t))},D=function(t){return k(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},I=function(){var e=t.Base64;return t.Base64=a,e};if(t.Base64={VERSION:o,atob:C,btoa:h,fromBase64:D,toBase64:p,utob:m,encode:p,encodeURI:v,btou:_,decode:D,noConflict:I},"function"===typeof s.a){var A=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A(function(){return D(this)})),Object.defineProperty(String.prototype,"toBase64",A(function(t){return p(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",A(function(){return p(this,!0)}))}}return t["Meteor"]&&(Base64=t.Base64),e.exports?e.exports.Base64=t.Base64:"function"===typeof define&&i("3c35")&&define([],function(){return t.Base64}),{Base64:t.Base64}})}).call(this,i("c8ba"),i("dd40")(t))},a984:function(t,e,i){"use strict";var n=i("e378"),s=i.n(n);s.a},b397:function(t,e,i){},b82a:function(t,e,i){"use strict";var n=i("3886"),s=i.n(n);s.a},c22d:function(t,e,i){"use strict";var n=i("82cc"),s=i.n(n);s.a},cad8:function(t,e,i){"use strict";var n=i("b397"),s=i.n(n);s.a},cc6c:function(t,e,i){},d3a4:function(t,e,i){"use strict";var n=i("d847"),s=i.n(n);e["a"]={install:function(t){s()(t.prototype,{$i18n:{get:function(){return chrome.i18n.getMessage}}}),t.i18n=chrome.i18n.getMessage}}},d60a:function(t,e,i){"use strict";var n=i("195e"),s=i.n(n);s.a},e378:function(t,e,i){},eb32:function(t,e,i){},ff66:function(t,e,i){"use strict";var n=i("795b"),s=i.n(n),a=i("bc3a"),o=i.n(a),r=i("4328"),c=i.n(r),u=localStorage.getItem("env"),d="https://tide-api.moreless.io";"dev"===u&&(d="https://tide-api.moreless.io");var l={baseURL:d,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","ML-AppID":7},data:{},paramsSerializer:function(t){return c.a.stringify(t,{indices:!1})}},m=o.a.create(l);m.interceptors.response.use(function(t){return t.data?t.data:{msg:"ok"}},function(t){return t.response?s.a.reject(t.response.data):s.a.reject({code:-1,msg:t.message})}),e["a"]={install:function(t){t.prototype.$request=m,t.request=m},$request:m}}});
//# sourceMappingURL=options.js.map